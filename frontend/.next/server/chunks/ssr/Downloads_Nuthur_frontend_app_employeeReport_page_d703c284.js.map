{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Asus/Downloads/Nuthur/frontend/app/employeeReport/page.js"],"sourcesContent":["\r\n\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function EmployeeReports() {\r\n  const [allReports, setAllReports] = useState([]);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState(\"All\");\r\n\r\n  // Fetch reports from backend\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/reports/list\") // <--- endpoint كامل للبك اند\r\n      .then(res => res.json())\r\n      .then(data => setAllReports(data))\r\n      .catch(err => console.error(\"Error fetching reports:\", err));\r\n  }, []);\r\n\r\n  // Update report status\r\n  const updateStatus = (id, status) => {\r\n    fetch(`http://localhost:5000/api/reports/update/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ status })\r\n    })\r\n    .then(res => res.json())\r\n    .then(updatedReport => {\r\n      setAllReports(prev => prev.map(r => r._id === updatedReport._id ? updatedReport : r));\r\n    })\r\n    .catch(err => console.error(\"Error updating status:\", err));\r\n  };\r\n\r\n  // Apply filters\r\n  const filteredReports = allReports.filter(r =>\r\n    r.user.name.toLowerCase().includes(searchName.toLowerCase()) &&\r\n    (statusFilter === \"All\" || r.status === statusFilter)\r\n  );\r\n\r\n  return (\r\n    <div style={{ fontFamily: \"Arial, sans-serif\", backgroundColor: \"#f4f4f9\", padding: \"20px\", minHeight: \"100vh\" }}>\r\n      <h1 style={{ textAlign: \"center\", color: \"#333\" }}>Employee - Volunteer Reports Dashboard</h1>\r\n\r\n      <div style={{ textAlign: \"center\", marginBottom: \"20px\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search by volunteer name...\"\r\n          value={searchName}\r\n          onChange={(e) => setSearchName(e.target.value)}\r\n          style={{ padding: \"5px 10px\", margin: \"0 5px\", fontSize: \"14px\" }}\r\n        />\r\n        <select\r\n          value={statusFilter}\r\n          onChange={(e) => setStatusFilter(e.target.value)}\r\n          style={{ padding: \"5px 10px\", margin: \"0 5px\", fontSize: \"14px\" }}\r\n        >\r\n          <option value=\"All\">All Statuses</option>\r\n          <option value=\"approved\">Approved</option>\r\n          <option value=\"rejected\">Rejected</option>\r\n          <option value=\"pending\">Pending</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"center\" }}>\r\n        {filteredReports.map(report => (\r\n          <div\r\n            key={report._id}\r\n            style={{\r\n              border: \"1px solid #ccc\",\r\n              borderRadius: \"8px\",\r\n              padding: \"15px\",\r\n              margin: \"10px\",\r\n              width: \"300px\",\r\n              boxShadow: \"0 2px 5px rgba(0,0,0,0.1)\",\r\n              backgroundColor:\r\n                report.status === \"approved\" ? \"#d4edda\" :\r\n                report.status === \"rejected\" ? \"#f8d7da\" :\r\n                \"#fff3cd\",\r\n              transition: \"transform 0.2s\"\r\n            }}\r\n            onMouseEnter={e => e.currentTarget.style.transform = \"translateY(-5px)\"}\r\n            onMouseLeave={e => e.currentTarget.style.transform = \"translateY(0)\"}\r\n          >\r\n            <h3 style={{ margin: \"0 0 10px 0\", fontSize: \"18px\", color: \"#555\" }}>{report.user.name}</h3>\r\n            <p style={{ margin: \"5px 0\", fontSize: \"14px\", color: \"#666\" }}>Description: {report.description}</p>\r\n            <p style={{ margin: \"5px 0\", fontSize: \"14px\", color: \"#666\" }}>\r\n              Status: <span style={{ fontWeight: \"bold\" }}>{report.status}</span>\r\n            </p>\r\n            <div>\r\n              <button\r\n                onClick={() => updateStatus(report._id, \"approved\")}\r\n                style={{ margin: \"5px 5px 0 0\", padding: \"5px 10px\", borderRadius: \"4px\", cursor: \"pointer\", backgroundColor: \"#28a745\", color: \"white\", border: \"none\", fontSize: \"13px\" }}\r\n              >\r\n                Approve\r\n              </button>\r\n              <button\r\n                onClick={() => updateStatus(report._id, \"rejected\")}\r\n                style={{ margin: \"5px 5px 0 0\", padding: \"5px 10px\", borderRadius: \"4px\", cursor: \"pointer\", backgroundColor: \"#dc3545\", color: \"white\", border: \"none\", fontSize: \"13px\" }}\r\n              >\r\n                Reject\r\n              </button>\r\n              <button\r\n                onClick={() => updateStatus(report._id, \"pending\")}\r\n                style={{ margin: \"5px 5px 0 0\", padding: \"5px 10px\", borderRadius: \"4px\", cursor: \"pointer\", backgroundColor: \"#ffc107\", color: \"black\", border: \"none\", fontSize: \"13px\" }}\r\n              >\r\n                Pending\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AADA;;;AAGe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,oPAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,oPAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,oPAAQ,EAAC;IAEjD,6BAA6B;IAC7B,IAAA,qPAAS,EAAC;QACR,MAAM,0CAA0C,8BAA8B;SAC3E,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA,OAAQ,cAAc,OAC3B,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,2BAA2B;IAC3D,GAAG,EAAE;IAEL,uBAAuB;IACvB,MAAM,eAAe,CAAC,IAAI;QACxB,MAAM,CAAC,yCAAyC,EAAE,IAAI,EAAE;YACtD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC,GACC,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACJ,cAAc,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,cAAc,GAAG,GAAG,gBAAgB;QACpF,GACC,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,0BAA0B;IACxD;IAEA,gBAAgB;IAChB,MAAM,kBAAkB,WAAW,MAAM,CAAC,CAAA,IACxC,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACzD,CAAC,iBAAiB,SAAS,EAAE,MAAM,KAAK,YAAY;IAGtD,qBACE,iRAAC;QAAI,OAAO;YAAE,YAAY;YAAqB,iBAAiB;YAAW,SAAS;YAAQ,WAAW;QAAQ;;0BAC7G,iRAAC;gBAAG,OAAO;oBAAE,WAAW;oBAAU,OAAO;gBAAO;0BAAG;;;;;;0BAEnD,iRAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;;kCACtD,iRAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;wBAC7C,OAAO;4BAAE,SAAS;4BAAY,QAAQ;4BAAS,UAAU;wBAAO;;;;;;kCAElE,iRAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;wBAC/C,OAAO;4BAAE,SAAS;4BAAY,QAAQ;4BAAS,UAAU;wBAAO;;0CAEhE,iRAAC;gCAAO,OAAM;0CAAM;;;;;;0CACpB,iRAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,iRAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,iRAAC;gCAAO,OAAM;0CAAU;;;;;;;;;;;;;;;;;;0BAI5B,iRAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,UAAU;oBAAQ,gBAAgB;gBAAS;0BACvE,gBAAgB,GAAG,CAAC,CAAA,uBACnB,iRAAC;wBAEC,OAAO;4BACL,QAAQ;4BACR,cAAc;4BACd,SAAS;4BACT,QAAQ;4BACR,OAAO;4BACP,WAAW;4BACX,iBACE,OAAO,MAAM,KAAK,aAAa,YAC/B,OAAO,MAAM,KAAK,aAAa,YAC/B;4BACF,YAAY;wBACd;wBACA,cAAc,CAAA,IAAK,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;wBACrD,cAAc,CAAA,IAAK,EAAE,aAAa,CAAC,KAAK,CAAC,SAAS,GAAG;;0CAErD,iRAAC;gCAAG,OAAO;oCAAE,QAAQ;oCAAc,UAAU;oCAAQ,OAAO;gCAAO;0CAAI,OAAO,IAAI,CAAC,IAAI;;;;;;0CACvF,iRAAC;gCAAE,OAAO;oCAAE,QAAQ;oCAAS,UAAU;oCAAQ,OAAO;gCAAO;;oCAAG;oCAAc,OAAO,WAAW;;;;;;;0CAChG,iRAAC;gCAAE,OAAO;oCAAE,QAAQ;oCAAS,UAAU;oCAAQ,OAAO;gCAAO;;oCAAG;kDACtD,iRAAC;wCAAK,OAAO;4CAAE,YAAY;wCAAO;kDAAI,OAAO,MAAM;;;;;;;;;;;;0CAE7D,iRAAC;;kDACC,iRAAC;wCACC,SAAS,IAAM,aAAa,OAAO,GAAG,EAAE;wCACxC,OAAO;4CAAE,QAAQ;4CAAe,SAAS;4CAAY,cAAc;4CAAO,QAAQ;4CAAW,iBAAiB;4CAAW,OAAO;4CAAS,QAAQ;4CAAQ,UAAU;wCAAO;kDAC3K;;;;;;kDAGD,iRAAC;wCACC,SAAS,IAAM,aAAa,OAAO,GAAG,EAAE;wCACxC,OAAO;4CAAE,QAAQ;4CAAe,SAAS;4CAAY,cAAc;4CAAO,QAAQ;4CAAW,iBAAiB;4CAAW,OAAO;4CAAS,QAAQ;4CAAQ,UAAU;wCAAO;kDAC3K;;;;;;kDAGD,iRAAC;wCACC,SAAS,IAAM,aAAa,OAAO,GAAG,EAAE;wCACxC,OAAO;4CAAE,QAAQ;4CAAe,SAAS;4CAAY,cAAc;4CAAO,QAAQ;4CAAW,iBAAiB;4CAAW,OAAO;4CAAS,QAAQ;4CAAQ,UAAU;wCAAO;kDAC3K;;;;;;;;;;;;;uBAtCE,OAAO,GAAG;;;;;;;;;;;;;;;;AA+C3B","debugId":null}}]
}